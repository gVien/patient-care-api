{"version":3,"sources":["scripts/app.js"],"names":["angular","module","numberValidation","require","link","scope","element","attrs","modelCtrl","$parsers","push","inputValue","transformedInput","toLowerCase","replace","$setViewValue","$render","directive","ProviderFactory","$resource","id","update","method","$inject","factory","acmeNavbar","NavbarController","moment","vm","this","relativeDate","creationDate","fromNow","restrict","templateUrl","controller","controllerAs","bindToController","ModalController","$uibModalInstance","close","ProvidersUpdateController","Provider","$stateParams","$state","$scope","toastr","providesOptions","getProvider","provider","get","updateProvider","$update","go","success","name","ProvidersIndexController","$uibModal","$window","providers","query","deleteProvider","confirm","$delete","ProvidersCreateController","addProvider","providesArr","providesObj","provides","key","$save","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","config","constant","malarkey","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-69a571cb82.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('patientCare', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  // best practice to create another module for helper directives (such as `utility`) but\n  // for the purpose of this exercise, it should be fine\n  angular\n    .module('patientCare')\n    .directive('numberValidation', numberValidation);\n\n  /** @ngInject */\n  // better way is to use input type as `number` but it requires some reformat of\n  // number generated from the seed.rb in the database\n  // http://stackoverflow.com/questions/14419651/filters-on-ng-model-in-an-input/14425022#14425022\n  function numberValidation() {\n     return {\n       require: 'ngModel',\n       link: function(scope, element, attrs, modelCtrl) {\n         modelCtrl.$parsers.push(function (inputValue) {\n\n           var transformedInput = inputValue.toLowerCase().replace(/[a-z]/g, '');\n\n           if (transformedInput!=inputValue) {\n             modelCtrl.$setViewValue(transformedInput);\n             modelCtrl.$render();\n           }\n\n           return transformedInput;\n         });\n       }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .factory('Provider', ProviderFactory);\n\n  /** @ngInject */\n  function ProviderFactory($resource) {\n    return $resource(\"/api/v1/providers/:id\", { id: \"@id\" }, {\n      update: {\n        method: \"PUT\"\n      }\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  // might be better to create a \"utility\" module here for modal but\n  // for purpose of this project, it is fine\n  angular\n    .module('patientCare')\n    .controller('ModalCtrl', ModalController);\n\n  /** @ngInject */\n  function ModalController($uibModalInstance) {\n    var vm = this;\n\n    vm.close = function() {\n      $uibModalInstance.close();\n    };\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .controller('ProvidersUpdateController', ProvidersUpdateController);\n\n  /** @ngInject */\n  function ProvidersUpdateController(Provider, $stateParams,  $state, $scope, toastr) {\n\n    $scope.providesOptions = [\"Diabetes Care\",\"Dialysis\",\"Medication Management\",\"Outpatient Therapy\",\"Oxygen\",\"Physical Therapy\",\"Speech Therapy\",\"Wound Care\"]\n\n    // load the provider we want to edit\n    $scope.getProvider = function() {\n      $scope.provider = Provider.get({ id: $stateParams.id });\n    };\n\n    $scope.getProvider();\n\n    $scope.updateProvider = function() {\n      $scope.provider.$update(function() {\n        $state.go('providerIndex');\n        toastr.success($scope.provider.name + \" provider has been updated!\", \"Updated Successfully:\")\n      });\n    };\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .controller('ProvidersIndexController', ProvidersIndexController);\n\n  /** @ngInject */\n  function ProvidersIndexController(Provider, $uibModal, $state, $scope, $window, toastr) {\n    var vm = this;\n    vm.providers = Provider.query();\n\n    // vm.open = function() {\n    //   var modalInstance = $uibModal.open({\n    //     templateUrl: \"app/components/modal/modal.html\",\n    //     controller: \"ModalCtrl\",\n    //     controllerAs: \"modal\",\n    //     scope: $scope\n    //   })\n    // };\n\n    // DELETE /api/v1/providers/:id\n    $scope.deleteProvider = function(provider) {\n      if (confirm(provider.name + \" provider will be deleted. Confirm?\")) {\n        provider.$delete(function() {\n          vm.providers = Provider.query();  // reload data\n          toastr.success(provider.name + \" provider has been deleted!\", \"Deleted Successfully:\");\n        });\n      }\n  }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .controller('ProvidersCreateController', ProvidersCreateController);\n\n  /** @ngInject */\n  function ProvidersCreateController(Provider, $state, $scope, toastr) {\n    var vm = this;\n\n    $scope.providesOptions = [\"Diabetes Care\",\"Dialysis\",\"Medication Management\",\"Outpatient Therapy\",\"Oxygen\",\"Physical Therapy\",\"Speech Therapy\",\"Wound Care\"]\n\n    $scope.provider = new Provider();\n\n    $scope.addProvider = function() {\n\n      // reformat data to send to server\n      // since the server only accepts `provider.provides` as an array\n      // but the checkbox is giving an object\n      var providesArr = [];\n      var providesObj = $scope.provider.provides;\n      for (var key in providesObj) {\n        providesArr.push(providesObj[key]);\n      }\n\n      $scope.provider.provides = providesArr;\n\n      $scope.provider.$save(function() {\n        $state.go('providerIndex');\n        toastr.success($scope.provider.provider.name + \" provider has been created!\", \"Created Successfully:\")\n      });\n    };\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('providerIndex', {\n        url: '/',\n        templateUrl: 'app/provider/provider.html',\n        controller: 'ProvidersIndexController',\n        controllerAs: 'provider'\n      })\n      .state('createProvider', {\n        url: '/providers/new',\n        templateUrl: 'app/provider/providerCreate.html',\n        controller: 'ProvidersCreateController',\n        controllerAs: 'providerCreate'\n      })\n      .state('updateProvider', {\n        url: '/providers/:id/edit',\n        templateUrl: 'app/provider/providerUpdate.html',\n        controller: 'ProvidersUpdateController',\n        controllerAs: 'providerUpdate'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('patientCare')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"patientCare\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/provider/_form.html\",\"<div class=form-group><div class=col-sm-12><label class=sr-only for=name>Name</label><input class=form-control type=text ng-model=provider.name id=name placeholder=\\\"Name *\\\" required></div></div><div class=form-group><div class=col-sm-12><label class=sr-only for=location>Location</label><input class=form-control type=text ng-model=provider.location id=location placeholder=\\\"Location *\\\" required></div></div><div class=form-group><div class=col-sm-12><label class=sr-only for=phonenumber>Phone Number</label><input class=form-control type=text ng-model=provider.phone_number id=phone placeholder=\\\"Phone Number\\\" ng-pattern=\\\"/^\\\\(?\\\\d{3}\\\\)?[- ]?\\\\d{3}[- ]?\\\\d{4}$/\\\" ng-trim=false number-validation></div></div><div class=form-group><div class=col-sm-12><p class=provides-option>Please select all the options your facility can provide:</p><div class=col-sm-4 ng-repeat=\\\"provide in providesOptions\\\"><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[providesOptions.indexOf(provide)] ng-true-value=\\\"\\'{{ provide }}\\'\\\" ng-false-value=undefined ng-checked=\\\"provider.provides.indexOf(provide) > -1\\\">{{ provide }}</label></div></div></div></div>\");\n$templateCache.put(\"app/provider/provider.html\",\"<a ui-sref=createProvider class=\\\"btn btn-primary btn-add-provider\\\">Add a Care Provider</a><div id=providers-section><div class=row ng-repeat=\\\"provider in provider.providers\\\"><div class=col-sm-12><div class=\\\"well well-lg\\\"><div class=row><div class=col-sm-9><div class=provider-group><span class=\\\"name provider-label\\\">Name:</span> <span class=\\\"label label-info name-data\\\">{{ provider.name }}</span></div><div class=provider-group><span class=\\\"location provider-label\\\">Location:</span> <span class=\\\"label label-info location\\\">{{ provider.location }}</span></div><div class=provider-group><span class=\\\"phone provider-label\\\">Phone:</span> <span class=\\\"label label-info phone-data\\\">{{ provider.phone_number || \\\"N/A\\\" }}</span></div><div class=provider-group><span class=\\\"provides provider-label\\\">Provides:</span> <span class=provides-data><ul class=provide-list><li class=\\\"label label-warning provide\\\" ng-repeat=\\\"provide in provider.provides\\\">{{ provide }}</li></ul></span></div></div><div class=col-sm-3><div class=buttons><button class=\\\"btn btn-danger btn-delete\\\" ng-click=deleteProvider(provider)>Delete</button> <a class=\\\"btn btn-info btn-update\\\" href=/#/providers/{{provider.id}}/edit>Update</a></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/provider/providerCreate.html\",\"<div class=row><form class=provider-form id=provider-form ng-submit=addProvider()><div ng-include=\\\"\\'app/provider/_form.html\\'\\\"></div><div class=form-group><div class=col-sm-12><input class=\\\"btn btn-primary btn-block btn-submit\\\" type=submit value=\\\"Add Provider\\\"></div></div></form></div>\");\n$templateCache.put(\"app/provider/providerUpdate.html\",\"<div class=row><form class=provider-form id=provider-form ng-submit=updateProvider()><div ng-include=\\\"\\'app/provider/_form.html\\'\\\"></div><div class=form-group><div class=col-sm-12><input class=\\\"btn btn-primary btn-block btn-submit\\\" type=submit value=\\\"Update Provider\\\"></div></div></form></div>\");\n$templateCache.put(\"app/components/modal/modal.html\",\"<!-- Modal head --><div class=modal-header><button type=button class=close ng-click=modal.close()><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Fill out the form below to learn more about BrightEdge Platform. We\\'ll get back to you in 1-2 days.</h4></div><!-- Modal Body --><div class=modal-body><form class=provider-form id=provider-form ng-submit=provider.addProvider()><div class=form-group><div class=\\\"col-sm-12 reset-padding-right\\\"><label class=sr-only for=name>First Name</label><input class=form-control type=text ng-model=provider.name id=name placeholder=\\\"Name *\\\" required></div></div><div class=form-group><div class=\\\"col-sm-12 reset-padding-left\\\"><label class=sr-only for=location>Last Name</label><input class=form-control type=text ng-model=provider.location id=location placeholder=\\\"Location *\\\" required></div></div><div class=form-group><div class=\\\"col-sm-12 reset-padding-right\\\"><label class=sr-only for=phonenumber>Phone Number</label><input class=form-control type=number ng-model=provider.phone_number id=phone placeholder=\\\"Phone Number\\\"></div></div><div class=form-group><div class=\\\"col-sm-12 reset-padding-left\\\"><p class=provides-option>Please select all the options your facility can provide:</p><div class=col-sm-4><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[0] value=\\\"Diabetes Care\\\">Diabetes Care</label></div><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[1] value=Dialysis>Dialysis</label></div><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[2] value=\\\"Medication Management\\\">Medication Management</label></div></div><!-- end .col-sm-4 --><div class=col-sm-4><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[3] value=\\\"Outpatient Therapy\\\">Outpatient Therapy</label></div><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[4] value=Oxygen>Oxygen</label></div><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[5] value=\\\"Physical Therapy\\\">Physical Therapy</label></div></div><!-- end .col-sm-4 --><div class=col-sm-4><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[6] value=\\\"Speech Therapy\\\">Speech Therapy</label></div><div class=checkbox><label><input type=checkbox class=provides ng-model=provider.provides[7] value=\\\"Wound Care\\\">Wound Care</label></div></div><!-- end .col-sm-4 --></div></div><div class=form-group><div class=col-sm-12><input class=\\\"btn btn-primary btn-block btn-submit\\\" type=submit value=\\\"Add Provider\\\" data-disable-with=Sending...></div></div></form></div><!-- modal footer --><div class=modal-footer><a class=btn href=\\\"\\\" ng-click=modal.close()>Cancel</a></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=container-fluid><div class=navbar-header><a class=navbar-brand href=/ ><!-- http://glyphsearch.com/?query=doctor --> <i class=\\\"fa fa-stethoscope\\\"></i> Patient Care</a></div><div class=\\\"collapse navbar-collapse\\\" id=bs-example-navbar-collapse-6><ul class=\\\"nav navbar-nav\\\"><li><a ng-href=/ >Home</a></li><li><a ng-href=mailto:gmvien@ucdavis.edu>Contact</a></li></ul></div></div></nav>\");}]);"],"sourceRoot":"/source/"}